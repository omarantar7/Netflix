{"version":3,"file":"static/js/878.76a282c8.chunk.js","mappings":"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","sources":["components/UI/LoadingSpiner.js","components/show-hidePass/Pass-Field.js","hooks/use-input.js","webpack://netflix-last-clone/./src/components/Auth/signup.module.css?37e2","components/Auth/Signup.js","pages/signupPage.js","webpack://netflix-last-clone/./src/components/UI/Loading.module.css?a16d"],"sourcesContent":["import { Fragment } from \"react\"\r\nimport classes from './Loading.module.css';\r\nconst LoadingSpiner = () => {\r\n    return <Fragment><div className={classes.bg}>\r\n        <div className={classes.rotate}/>\r\n        </div></Fragment>\r\n}\r\nexport default LoadingSpiner","import { useState } from \"react\";\r\n\r\nconst PassToggle = () => {\r\n  const [showField, setShowField] = useState(false);\r\n\r\n  const toggle = (\r\n    <h4\r\n      onClick={() => {\r\n        setShowField((visible) => !visible);\r\n      }}\r\n    >\r\n      {showField ? \"HIDE\" : \"SHOW\"}\r\n    </h4>\r\n  );\r\n  const inputType = showField ? \"text\" : \"password\";\r\n\r\n  return {toggle, inputType};\r\n};\r\n\r\nexport default PassToggle;\r\n","import { useReducer } from 'react';\r\n\r\nconst initialInputState = {\r\n  value: '',\r\n  isTouched: false,\r\n};\r\n\r\nconst inputStateReducer = (state, action) => {\r\n  if (action.type === 'INPUT') {\r\n    return { value: action.value, isTouched: state.isTouched };\r\n  }\r\n  if (action.type === 'BLUR') {\r\n    return { isTouched: true, value: state.value };\r\n  } \r\n  return inputStateReducer;\r\n};\r\n\r\nconst useInput = (validateValue) => {\r\n  const [inputState, dispatch] = useReducer(\r\n    inputStateReducer,\r\n    initialInputState\r\n  );\r\n\r\n  const valueIsValid = validateValue(inputState.value);\r\n  const hasError = !valueIsValid && inputState.isTouched;\r\n\r\n  const valueChangeHandler = (event) => {\r\n    dispatch({ type: 'INPUT', value: event.target.value });\r\n  };\r\n\r\n  const inputBlurHandler = () => {\r\n    dispatch({ type: 'BLUR' });\r\n  };\r\n\r\n\r\n  return {\r\n    value: inputState.value,\r\n    isValid: valueIsValid,\r\n    hasError,\r\n    valueChangeHandler,\r\n    inputBlurHandler,\r\n  };\r\n};\r\n\r\nexport default useInput;","// extracted by mini-css-extract-plugin\nexport default {\"signup\":\"signup_signup__lIuS2\",\"layout\":\"signup_layout__NYDdd\",\"content\":\"signup_content__8E1hn\",\"first\":\"signup_first__zK-vy\",\"second\":\"signup_second__8zMz6\",\"invalid\":\"signup_invalid__2kYw8\",\"worng-message\":\"signup_worng-message__39vuX\",\"check\":\"signup_check__d3d8O\",\"error-text\":\"signup_error-text__cIkXM\"};","import { useRef, useState } from \"react\";\r\nimport img1 from \"../Layout/580b57fcd9996e24bc43c529.png\";\r\nimport classes from \"./signup.module.css\";\r\nimport { Authactions } from \"../../store/auth\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport useInput from \"../../hooks/use-input\";\r\nimport { TiWarningOutline } from \"react-icons/ti\";\r\nimport PassToggle from \"../show-hidePass/Pass-Field\";\r\nimport LoadingSpiner from \"../UI/LoadingSpiner\";\r\n\r\nconst Signup = () => {\r\n  const [state, setState] = useState({\r\n    Loading:false,\r\n    wrongInput:false\r\n  });\r\n\r\n  const {toggle,inputType} = PassToggle();\r\n\r\n  localStorage.getItem(\"Token\");\r\n\r\n  const {\r\n    value: enteredPass,\r\n    isValid: enteredPassIsValid,\r\n    hasError: passInputHasError,\r\n    valueChangeHandler: passChangedHandler,\r\n    inputBlurHandler: passBlurHandler,\r\n  } = useInput((value) => value.trim().length > 5 && value.trim().length < 60);\r\n\r\n  let formIsValid = false;\r\n\r\n  if(enteredPassIsValid){\r\n    formIsValid=true;\r\n  }\r\n\r\n  let mail = localStorage.getItem(\"mail\");\r\n  const enteredEmailRef = useRef(mail);\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const signup = () => {\r\n    const enteredEmail = enteredEmailRef.current.value;\r\n    fetch(\r\n      \"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyCJple3qN5HATXE9Cxs87hLpWQ6Tnh-iUo\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email: enteredEmail,\r\n          password: enteredPass,\r\n          returnSecureToken: true,\r\n        }),\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n        },\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return res.json().then((data) => {\r\n            setState(prev => {return{...prev,wrongInput:true}});\r\n          });\r\n        }\r\n      })\r\n      .then((data) => {\r\n        dispatch(Authactions.loginHandler(data.idToken));\r\n        dispatch(Authactions.userLoggedIn());\r\n        localStorage.removeItem(\"mail\");\r\n        navigate(\"/\", { replace: true });\r\n      })\r\n      .catch((err) => {\r\n        setState(prev => {return{...prev,Loading:false}});\r\n      });\r\n    };\r\n\r\n  const signUpHandler = (event) => {\r\n    event.preventDefault();\r\n\r\n    if (!enteredPassIsValid) {\r\n      return;\r\n    }\r\n    setState(prev => {return{...prev,Loading:true}});\r\n    signup();\r\n  };\r\n  return (\r\n    <div className={classes.signup}>\r\n      <div className={classes.layout}>\r\n        <img src={img1} alt=\"logo\" />\r\n        <h3\r\n          onClick={() => {\r\n            navigate(\"/lb-en/signin\", { push: true });\r\n          }}\r\n        >\r\n          Sign In\r\n        </h3>\r\n      </div>\r\n      <div className={classes.content}>\r\n        <span>STEP 1 OF 1</span>\r\n        {state.wrongInput && (\r\n          <p className={classes[\"worng-message\"]}>\r\n            <TiWarningOutline style={{ height: \"1.5rem\", width: \"1.5rem\" }} />\r\n            you already signedUp using this email{\" \"}\r\n            <Link\r\n              to=\"/lb-en/signin\"\r\n              style={{ textDecoration: \"none\", color: \"#fff\" }}\r\n            >\r\n              signin?\r\n            </Link>\r\n            or signup with another email!!\r\n          </p>\r\n        )}\r\n        <h1>Create a password to start your membership</h1>\r\n        <h4>\r\n          Just a few more steps and you're finished! We hate paperwork, too.\r\n        </h4>\r\n        <form onSubmit={signUpHandler}>\r\n          <div className={classes.first}>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              required\r\n              defaultValue={mail}\r\n              ref={enteredEmailRef}\r\n            />\r\n          </div>\r\n          <div className={classes[passInputHasError ? \"invalid\" : \"second\"]}>\r\n            <input\r\n              type={inputType}\r\n              placeholder=\"Add a password\"\r\n              onChange={passChangedHandler}\r\n              onBlur={passBlurHandler}\r\n              value={enteredPass}\r\n            />\r\n            <span>{toggle}</span>\r\n          </div>{passInputHasError && (\r\n              <h4 className={classes[\"error-text\"]}>\r\n                Your password must contain between 6 and 60 characters.\r\n              </h4>\r\n            )}\r\n          <div className={classes.check}>\r\n            <input type=\"checkbox\" />\r\n            <span>Please do not email me Netflix special offers</span>\r\n          </div>\r\n          <button disabled={!formIsValid}>{!state.Loading ? \"Sign UP\" : <LoadingSpiner/>}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Signup;\r\n","import Signup from \"../components/Auth/Signup\";\r\nconst SignupPage = () => {\r\n    return <Signup/>\r\n}\r\nexport default SignupPage;","// extracted by mini-css-extract-plugin\nexport default {\"rotate\":\"Loading_rotate__ttUPU\",\"spinner\":\"Loading_spinner__7ImP5\"};"],"names":["Fragment","className","classes","useState","showField","setShowField","toggle","onClick","visible","inputType","initialInputState","value","isTouched","inputStateReducer","state","action","type","validateValue","useReducer","inputState","dispatch","valueIsValid","hasError","isValid","valueChangeHandler","event","target","inputBlurHandler","Loading","wrongInput","setState","PassToggle","localStorage","getItem","useInput","trim","length","enteredPass","enteredPassIsValid","passInputHasError","passChangedHandler","passBlurHandler","formIsValid","mail","enteredEmailRef","useRef","useDispatch","navigate","useNavigate","src","img1","alt","push","style","height","width","to","textDecoration","color","onSubmit","preventDefault","prev","enteredEmail","current","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","then","res","ok","json","data","Authactions","idToken","removeItem","replace","catch","err","signup","placeholder","required","defaultValue","ref","onChange","onBlur","disabled","LoadingSpiner"],"sourceRoot":""}