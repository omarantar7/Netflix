{"version":3,"file":"static/js/220.bddc5890.chunk.js","mappings":"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","sources":["components/show-hidePass/Pass-Field.js","hooks/use-input.js","webpack://netflix-last-clone/./src/components/Auth/Signin.module.css?1aed","webpack://netflix-last-clone/./src/components/UI/LoadingAuth.module.css?7ca3","components/UI/LoadingAuth.js","components/Auth/Signin.js","pages/SigninPage.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nconst PassToggle = () => {\r\n  const [showField, setShowField] = useState(false);\r\n\r\n  const toggle = (\r\n    <h4\r\n      onClick={() => {\r\n        setShowField((visible) => !visible);\r\n      }}\r\n    >\r\n      {showField ? \"HIDE\" : \"SHOW\"}\r\n    </h4>\r\n  );\r\n  const inputType = showField ? \"text\" : \"password\";\r\n\r\n  return {toggle, inputType};\r\n};\r\n\r\nexport default PassToggle;\r\n","import { useReducer } from 'react';\r\n\r\nconst initialInputState = {\r\n  value: '',\r\n  isTouched: false,\r\n};\r\n\r\nconst inputStateReducer = (state, action) => {\r\n  if (action.type === 'INPUT') {\r\n    return { value: action.value, isTouched: state.isTouched };\r\n  }\r\n  if (action.type === 'BLUR') {\r\n    return { isTouched: true, value: state.value };\r\n  } \r\n  return inputStateReducer;\r\n};\r\n\r\nconst useInput = (validateValue) => {\r\n  const [inputState, dispatch] = useReducer(\r\n    inputStateReducer,\r\n    initialInputState\r\n  );\r\n\r\n  const valueIsValid = validateValue(inputState.value);\r\n  const hasError = !valueIsValid && inputState.isTouched;\r\n\r\n  const valueChangeHandler = (event) => {\r\n    dispatch({ type: 'INPUT', value: event.target.value });\r\n  };\r\n\r\n  const inputBlurHandler = () => {\r\n    dispatch({ type: 'BLUR' });\r\n  };\r\n\r\n\r\n  return {\r\n    value: inputState.value,\r\n    isValid: valueIsValid,\r\n    hasError,\r\n    valueChangeHandler,\r\n    inputBlurHandler,\r\n  };\r\n};\r\n\r\nexport default useInput;","// extracted by mini-css-extract-plugin\nexport default {\"page\":\"Signin_page__WoXHh\",\"gradient\":\"Signin_gradient__Tqzr7\",\"signin__page\":\"Signin_signin__page__ylbYt\",\"second\":\"Signin_second__ZJ1MG\",\"first\":\"Signin_first__5t1vF\",\"invalid\":\"Signin_invalid__YBSmB\",\"worng-message\":\"Signin_worng-message__AomD1\",\"error-text\":\"Signin_error-text__a55Ay\"};","// extracted by mini-css-extract-plugin\nexport default {\"rotate\":\"LoadingAuth_rotate__klY89\",\"spinner\":\"LoadingAuth_spinner__DRKZ+\"};","import { Fragment } from \"react\"\r\nimport classes from './LoadingAuth.module.css';\r\nconst LoadingAuth = () => {\r\n    return <Fragment><div className={classes.bg}>\r\n        <div className={classes.rotate}/>\r\n        </div></Fragment>\r\n}\r\nexport default LoadingAuth","import React, { useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport classes from \"./Signin.module.css\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { Authactions } from \"../../store/auth\";\r\nimport useInput from \"../../hooks/use-input\";\r\nimport { TiWarningOutline } from \"react-icons/ti\";\r\nimport netflix from \"../Layout/580b57fcd9996e24bc43c529.png\";\r\nimport PassToggle from \"../show-hidePass/Pass-Field\";\r\nimport LoadingAuth from \"../UI/LoadingAuth\";\r\n\r\nconst SignIn = (props) => {\r\n  localStorage.getItem(\"Token\");\r\n  \r\n  const [state, setState] = useState({\r\n    Loading:false,\r\n    wrongInput:false\r\n  });\r\n\r\n  const {toggle,inputType} = PassToggle();\r\n  const navigate = useNavigate();\r\n\r\n  const {\r\n    value: enteredEmail,\r\n    isValid: enteredEmailIsValid,\r\n    hasError: emailInputHasError,\r\n    valueChangeHandler: emailChangeHandler,\r\n    inputBlurHandler: emailBlurHandler,\r\n  } = useInput((value) => value.includes(\"@\") && value.includes(\".\"));\r\n\r\n  const {\r\n    value: enteredPass,\r\n    isValid: enteredPassIsValid,\r\n    hasError: passInputHasError,\r\n    valueChangeHandler: passChangedHandler,\r\n    inputBlurHandler: passBlurHandler,\r\n  } = useInput((value) => value.trim().length > 5 && value.trim().length < 60);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  let formIsValid = false;\r\n\r\n  if(enteredEmailIsValid&&enteredPassIsValid){\r\n    formIsValid=true;\r\n  }\r\n\r\n  const signin = () => {\r\n    fetch(\r\n      \"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyCJple3qN5HATXE9Cxs87hLpWQ6Tnh-iUo\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify({\r\n          email: enteredEmail,\r\n          password: enteredPass,\r\n          returnSecureToken: true,\r\n        }),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    )\r\n      .then((res) => {\r\n        if (res.ok) {\r\n          return res.json();\r\n        } else {\r\n          return res.json().then((data) => {\r\n            setState(prev => {return{...prev,wrongInput:true}});\r\n          });\r\n        }\r\n      })\r\n      .then((data) => {\r\n        dispatch(Authactions.loginHandler(data.idToken));\r\n        dispatch(Authactions.userLoggedIn());\r\n        navigate(\"/\", { replace: true });\r\n      })\r\n      .catch((err) => {\r\n        setState(prev => {return{...prev,Loading:false}});\r\n      });\r\n\r\n    };\r\n\r\n  const submitHandler = (event) => {\r\n    event.preventDefault();\r\n    if (!enteredEmailIsValid && !enteredPassIsValid) {\r\n      return;\r\n    }\r\n    setState(prev => {return{...prev,Loading:true}});\r\n    signin();\r\n  };\r\n\r\n  const emailInputClasses = emailInputHasError ? \"invalid\" : \"first\";\r\n\r\n  const passInputClasses = passInputHasError ? \"invalid\" : \"second\";\r\n\r\n  return (\r\n    <div className={classes.page}>\r\n      <img src={netflix} alt=\"logo\" />\r\n      <div className={classes[\"signin__page\"]}>\r\n        <form onSubmit={submitHandler}>\r\n          <h2>Sign In</h2>\r\n          {state.wrongInput && (\r\n            <div className={classes[\"worng-message\"]}>\r\n              <TiWarningOutline style={{ height: \"1.5rem\", width: \"1.5rem\" }} />\r\n              <p style={{ lineHeight: \"1rem\" }}>\r\n                your password or email isn't correct!!\r\n              </p>\r\n            </div>\r\n          )}\r\n          <div className={classes[emailInputClasses]}>\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              placeholder=\"E-mail\"\r\n              value={enteredEmail}\r\n              onChange={emailChangeHandler}\r\n              onBlur={emailBlurHandler}\r\n            />\r\n          </div>\r\n          {emailInputHasError && (\r\n            <p className={classes[\"error-text\"]}>Please enter a valid email.</p>\r\n          )}\r\n          <div className={classes[passInputClasses]}>\r\n            <input\r\n              type={inputType}\r\n              id=\"password\"\r\n              placeholder=\"Password\"\r\n              value={enteredPass}\r\n              onChange={passChangedHandler}\r\n              onBlur={passBlurHandler}\r\n            />\r\n            <span>{toggle}</span>\r\n          </div>\r\n          {passInputHasError && (\r\n            <p className={classes[\"error-text\"]}>\r\n              Your password must contain between 6 and 60 characters.\r\n            </p>\r\n          )}\r\n          <button disabled={!formIsValid}>{!state.Loading ? \"Sign In\" : <LoadingAuth/> }</button>\r\n          <h4>\r\n            <span>New to Netflix?</span>\r\n            <Link to=\"/lb-en\">\r\n              <span>Sign up now.</span>\r\n            </Link>\r\n          </h4>\r\n        </form>\r\n      </div>\r\n      <div className={classes.gradient} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n","import SignIn from \"../components/Auth/Signin\"\r\nconst SignInPage = (props) => {\r\n  return <SignIn/>\r\n}\r\nexport default SignInPage"],"names":["useState","showField","setShowField","toggle","onClick","visible","inputType","initialInputState","value","isTouched","inputStateReducer","state","action","type","validateValue","useReducer","inputState","dispatch","valueIsValid","hasError","isValid","valueChangeHandler","event","target","inputBlurHandler","Fragment","className","classes","props","localStorage","getItem","Loading","wrongInput","setState","PassToggle","navigate","useNavigate","useInput","includes","enteredEmail","enteredEmailIsValid","emailInputHasError","emailChangeHandler","emailBlurHandler","trim","length","enteredPass","enteredPassIsValid","passInputHasError","passChangedHandler","passBlurHandler","useDispatch","formIsValid","emailInputClasses","passInputClasses","src","netflix","alt","onSubmit","preventDefault","prev","fetch","method","body","JSON","stringify","email","password","returnSecureToken","headers","then","res","ok","json","data","Authactions","idToken","replace","catch","err","style","height","width","lineHeight","id","placeholder","onChange","onBlur","disabled","to"],"sourceRoot":""}